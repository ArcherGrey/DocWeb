# javascript 作用域

- 全局作用域
- 局部作用域

## 全局作用域和全局变量

如果变量定义在函数之外，则变量就处于全局作用域中：
```
// 默认全局作用域
var a = 1;
function fn(){};
```
全局作用域中的变量可以在任何其他作用域中访问和修改：
```
var a = 1;
function fn(){
    console.log(a); // 显示 a
    a = 2; // 修改 a 
}
```

全局变量的声明有三种方式：
- 不带 `var` 无论是在哪里，甚至是在函数内部声明，都会隐式声明成全局变量
- 带 `var` 在函数外部声明，这种是显式声明
- 使用 `window` 全局对象来声明，全局对象的属性对应也是全局变量

全局变量的优点：
可以减少变量个数，减少由于实参和形参的数据传递带来的时间消耗

全局变量的缺点：
- 全局变量保存在静态存储区，程序开始运行时为其分配内存，程序结束释放内存，和局部变量的动态分配、动态释放相比，生存期比较长，过多的全局变量会占用较多的内存单元
- 全局变量破坏了函数的封装性能，使得函数对全局变量产生依赖，同时降低了函数的可移植性
- 全局变量使得函数的可读性降低，由于多个函数可能使用相同的全局变量，对于程序的查错和调试都非常不利

注：尽可能少的使用全局变量

## 局部作用域
`javascript` 和 `C++` 之类的语言不同，它的局部作用域是以函数为单位，而不是块级作用域。（注：最新的标准提供了块级作用域）

每个函数被调用的时候都具有不同的作用域，意味着相同名称的变量可以在不同的函数中使用，这是因为它们都是属于不同的作用域，在其他函数中不可被访问。


块语句